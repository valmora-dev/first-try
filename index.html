<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MƠ ĐẸP LẮM EM! - Grand Kids Intro</title>
    <!-- GSAP for advanced animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@900&family=Pattaya&display=swap');

        :root {
            --yellow: #FFD400;
            --pink: #FF4D8D;
            --blue: #4D96FF;
            --green: #6BCB77;
            --orange: #FF9F45;
            --purple: #927DFF;
            --white: #FFFFFF;
            --dark: #222222;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #B9E9FF;
            font-family: 'Be Vietnam Pro', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Nền mảng màu trừu tượng kiểu Slidesgo */
        .bg-shape {
            position: absolute;
            z-index: 1;
            opacity: 0;
        }

        .decoration {
            position: absolute;
            z-index: 5;
            pointer-events: none;
            opacity: 0;
            filter: drop-shadow(8px 8px 0px rgba(0, 0, 0, 0.1));
        }

        .intro-container {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 50px;
            transform: scale(0.5);
            opacity: 0;
        }

        .word-wrapper {
            display: flex;
            justify-content: center;
            gap: 25px;
            perspective: 1000px;
            flex-wrap: wrap;
        }

        .word-group {
            display: flex;
            gap: 2px;
        }

        .letter {
            display: inline-block;
            font-size: clamp(3.5rem, 12vw, 8.5rem);
            font-family: 'Pattaya', sans-serif;
            position: relative;
            /* Tất cả chữ về cùng màu trắng */
            color: var(--white);
            text-shadow:
                0 4px 0 var(--dark),
                0 8px 0 rgba(0, 0, 0, 0.2),
                4px 12px 25px rgba(0, 0, 0, 0.2);
            -webkit-text-stroke: 2.5px var(--dark);
            line-height: 1.1;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 20;
            pointer-events: none;
        }

        #flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            opacity: 0;
            z-index: 100;
            pointer-events: none;
        }

        /* Các mảng màu nền cực lớn */
        .circle-bg {
            width: 600px;
            height: 600px;
            background: var(--purple);
            border-radius: 50%;
            top: -300px;
            left: -300px;
        }

        .blob-bg {
            width: 500px;
            height: 500px;
            background: var(--yellow);
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            bottom: -200px;
            right: -250px;
        }
    </style>
</head>

<body>

    <div class="bg-shape circle-bg" id="bg1"></div>
    <div class="bg-shape blob-bg" id="bg2"></div>

    <!-- Sticker sinh động -->
    <svg class="decoration" id="s1" style="top: 10%; left: 10%; width: 120px;" viewBox="0 0 24 24">
        <path fill="var(--pink)"
            d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.41,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.59,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z" />
    </svg>
    <svg class="decoration" id="s2" style="bottom: 15%; right: 15%; width: 100px;" viewBox="0 0 24 24">
        <path fill="var(--blue)"
            d="M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5Z" />
    </svg>

    <div id="flash"></div>
    <canvas id="main-canvas"></canvas>

    <div class="intro-container" id="intro">
        <div class="word-wrapper">
            <div class="word-group">
                <span class="letter">M</span>
                <span class="letter">Ơ</span>
            </div>
            <div class="word-group">
                <span class="letter">Đ</span>
                <span class="letter">Ẹ</span>
                <span class="letter">P</span>
            </div>
            <div class="word-group">
                <span class="letter">L</span>
                <span class="letter">Ắ</span>
                <span class="letter">M</span>
            </div>
            <div class="word-group">
                <span class="letter">E</span>
                <span class="letter">M</span>
                <span class="letter">!</span>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('main-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(x, y, isBig = false) {
                this.x = x;
                this.y = y;
                const angle = Math.random() * Math.PI * 2;
                const speed = isBig ? Math.random() * 20 + 10 : Math.random() * 10 + 2;
                this.vx = Math.cos(angle) * speed;
                this.vy = Math.sin(angle) * speed;
                this.size = isBig ? Math.random() * 20 + 10 : Math.random() * 8 + 2;
                this.color = `hsl(${Math.random() * 360}, 80%, 60%)`;
                this.alpha = 1;
                this.gravity = 0.15;
            }
            update() {
                this.vx *= 0.97;
                this.vy *= 0.97;
                this.vy += this.gravity;
                this.x += this.vx;
                this.y += this.vy;
                this.alpha -= 0.01;
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(0, 0, this.size / 2, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles = particles.filter(p => p.alpha > 0);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        animate();

        const tl = gsap.timeline({ delay: 0.2 });

        // 1. Giai đoạn khởi đầu: Các mảng màu bay vào
        tl.to(".bg-shape", { duration: 1, opacity: 0.6, scale: 1.5, stagger: 0.3, ease: "power2.out" });

        // 2. Stickers bay lượn
        tl.to(".decoration", { duration: 0.8, opacity: 1, scale: 1.2, rotation: 360, stagger: 0.2, ease: "back.out(1.7)" }, "-=0.5");

        // 3. Container xuất hiện
        tl.to("#intro", { duration: 1, opacity: 1, scale: 1, ease: "elastic.out(1, 0.5)" }, "-=0.2");

        // 4. Từng chữ cái nhảy ra hoành tráng
        tl.from(".letter", {
            duration: 1,
            y: 400,
            rotation: 90,
            scale: 0,
            opacity: 0,
            stagger: 0.08,
            ease: "back.out(2)"
        }, "-=0.8");

        // 5. HIỆU ỨNG BÙM LẦN 1 (Nhẹ)
        tl.add(() => {
            for (let i = 0; i < 50; i++) particles.push(new Particle(window.innerWidth / 4, window.innerHeight / 2));
            for (let i = 0; i < 50; i++) particles.push(new Particle(window.innerWidth * 0.75, window.innerHeight / 2));
        });

        // 6. HIỆU ỨNG BÙM CHÍNH
        tl.add(() => {
            for (let i = 0; i < 200; i++) particles.push(new Particle(window.innerWidth / 2, window.innerHeight / 2, true));
            gsap.fromTo("#flash", { opacity: 0.8 }, { opacity: 0, duration: 0.8 });
            gsap.to("body", { x: 20, y: 20, duration: 0.05, repeat: 15, yoyo: true });
        }, "+=0.2");

        // 7. Chuyển động lặp lại
        tl.add(() => {
            gsap.to(".letter", {
                y: "random(-20, 20)",
                rotation: "random(-10, 10)",
                scale: "random(0.95, 1.05)",
                duration: 1.5,
                repeat: -1,
                yoyo: true,
                stagger: { each: 0.1, from: "center" },
                ease: "sine.inOut"
            });

            gsap.to(".decoration", {
                y: "random(-100, 100)",
                x: "random(-50, 50)",
                rotation: "+=360",
                duration: 5,
                repeat: -1,
                yoyo: true,
                ease: "none"
            });
        });

        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            for (let i = 0; i < 30; i++) particles.push(new Particle(x, y));
        }, 800);

    </script>
</body>

</html>